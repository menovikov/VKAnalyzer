using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using VKAnalyzer.DTO;
using System.IO;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using System.Runtime.Serialization.Json;
using System.Runtime.Serialization;
using System.Collections.Generic;
using System.Threading.Tasks;
using System.Xml;

namespace VKAnalyzerTests
{
    [TestClass]
    public class Tests
    {
        [TestMethod]
        public void TestingGroups()
        {
            string str = "40587282;23783750;31128331;39236729;35034571;36792820;51362846;24444828;34529402;37467838;24727626;43726747;45844365;43658512;36635754;90060110;16833467;33353770;35807044;37595419;38472666;36373912;43536802;28317077;54154078;63727982;38894284;383476;32275859;46400154;29058619;10537686;15721446;63132960;35736253;44089745;23741502;14501880;33766693;11766299;27979818;47112298;29372405;54693522;27737110;28016073;87929067;38676845;34895340;68285147;36326629;31938864;50716198;30696612;63482848;46091804;34448961;34503784;24983872;48272738;34812270;46870259;45968120;27744747;32133298;53106170;37053055;37000377;70570762;27091373;29196806;18124494;22965375;37735548;40601518;9494209;73074329;26536146;38507668;105619072;29725176;50931944;23840147;48990018;49107734;2383551;68506252;31412773;29892778;40010604;31417540;39888706;46110527;71469113;56629893;45616399;86260455;40591578;45686609;58168203;28739012;36622653;40725884;8993621;48458862;41398287;27039777;32786443;41688426;37660077;17785825;64699779;32629411;46664010;24746547;23110013;755176;24630242;36754416;9533335;33695724;50671389;25064892;30857188;80091987;59961158;43596631;40777860;37340527;56431537;49055464;37949747;73791627;44354263;44305467;97065090;36229854;31817865;70463005;29153217;32103560;35673445;50527486;47571610;";
            string[] list = str.Split(';');
            MemoryStream stream = new MemoryStream();
            DataContractJsonSerializer ser = new DataContractJsonSerializer(typeof(string[]));
            //ser.WriteObject(stream, list);

            Assert.AreEqual(list, VKAnalyzer.VkRepository.Instance.GetGroups(stream));
        }


    }

}
